da48396c755d2fa010d6d9afb1a89ff7
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _invariant = _interopRequireDefault(require("invariant"));
var customBubblingEventTypes = {};
var customDirectEventTypes = {};
exports.customBubblingEventTypes = customBubblingEventTypes;
exports.customDirectEventTypes = customDirectEventTypes;
var viewConfigCallbacks = new Map();
var viewConfigs = new Map();
function processEventTypes(viewConfig) {
  var bubblingEventTypes = viewConfig.bubblingEventTypes,
    directEventTypes = viewConfig.directEventTypes;
  if (__DEV__) {
    if (bubblingEventTypes != null && directEventTypes != null) {
      for (var topLevelType in directEventTypes) {
        (0, _invariant.default)(bubblingEventTypes[topLevelType] == null, 'Event cannot be both direct and bubbling: %s', topLevelType);
      }
    }
  }
  if (bubblingEventTypes != null) {
    for (var _topLevelType in bubblingEventTypes) {
      if (customBubblingEventTypes[_topLevelType] == null) {
        customBubblingEventTypes[_topLevelType] = bubblingEventTypes[_topLevelType];
      }
    }
  }
  if (directEventTypes != null) {
    for (var _topLevelType2 in directEventTypes) {
      if (customDirectEventTypes[_topLevelType2] == null) {
        customDirectEventTypes[_topLevelType2] = directEventTypes[_topLevelType2];
      }
    }
  }
}
exports.register = function (name, callback) {
  (0, _invariant.default)(!viewConfigCallbacks.has(name), 'Tried to register two views with the same name %s', name);
  (0, _invariant.default)(typeof callback === 'function', 'View config getter callback for component `%s` must be a function (received `%s`)', name, callback === null ? 'null' : typeof callback);
  viewConfigCallbacks.set(name, callback);
  return name;
};
exports.get = function (name) {
  var viewConfig;
  if (!viewConfigs.has(name)) {
    var callback = viewConfigCallbacks.get(name);
    if (typeof callback !== 'function') {
      (0, _invariant.default)(false, 'View config getter callback for component `%s` must be a function (received `%s`).%s', name, callback === null ? 'null' : typeof callback, typeof name[0] === 'string' && /[a-z]/.test(name[0]) ? ' Make sure to start component names with a capital letter.' : '');
    }
    viewConfig = callback();
    processEventTypes(viewConfig);
    viewConfigs.set(name, viewConfig);
    viewConfigCallbacks.set(name, null);
  } else {
    viewConfig = viewConfigs.get(name);
  }
  (0, _invariant.default)(viewConfig, 'View config not found for name %s', name);
  return viewConfig;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjdXN0b21CdWJibGluZ0V2ZW50VHlwZXMiLCJjdXN0b21EaXJlY3RFdmVudFR5cGVzIiwiZXhwb3J0cyIsInZpZXdDb25maWdDYWxsYmFja3MiLCJNYXAiLCJ2aWV3Q29uZmlncyIsInByb2Nlc3NFdmVudFR5cGVzIiwidmlld0NvbmZpZyIsImJ1YmJsaW5nRXZlbnRUeXBlcyIsImRpcmVjdEV2ZW50VHlwZXMiLCJfX0RFVl9fIiwidG9wTGV2ZWxUeXBlIiwiaW52YXJpYW50IiwicmVnaXN0ZXIiLCJuYW1lIiwiY2FsbGJhY2siLCJoYXMiLCJzZXQiLCJnZXQiLCJ0ZXN0Il0sInNvdXJjZXMiOlsiUmVhY3ROYXRpdmVWaWV3Q29uZmlnUmVnaXN0cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBub2Zvcm1hdFxuICogQGZsb3cgc3RyaWN0LWxvY2FsXG4gKiBAZ2VuZXJhdGVkIFNpZ25lZFNvdXJjZTw8YmRhNDkwYTAxNTEzZDQ1MjYwMDVjMWUwMjlkNWNlOTM+PlxuICpcbiAqIFRoaXMgZmlsZSB3YXMgc3luYydkIGZyb20gdGhlIGZhY2Vib29rL3JlYWN0IHJlcG9zaXRvcnkuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge3R5cGUgVmlld0NvbmZpZ30gZnJvbSAnLi9SZWFjdE5hdGl2ZVR5cGVzJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcblxuLy8gRXZlbnQgY29uZmlnc1xuY29uc3QgY3VzdG9tQnViYmxpbmdFdmVudFR5cGVzOiB7XG4gIFtldmVudE5hbWU6IHN0cmluZ106ICRSZWFkT25seTx7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6ICRSZWFkT25seTx7XG4gICAgICBjYXB0dXJlZDogc3RyaW5nLFxuICAgICAgYnViYmxlZDogc3RyaW5nLFxuICAgICAgc2tpcEJ1YmJsaW5nPzogP2Jvb2xlYW4sXG4gICAgfT4sXG4gIH0+LFxuICAuLi4sXG59ID0ge307XG5jb25zdCBjdXN0b21EaXJlY3RFdmVudFR5cGVzOiB7XG4gIFtldmVudE5hbWU6IHN0cmluZ106ICRSZWFkT25seTx7XG4gICAgcmVnaXN0cmF0aW9uTmFtZTogc3RyaW5nLFxuICB9PixcbiAgLi4uLFxufSA9IHt9O1xuXG5leHBvcnRzLmN1c3RvbUJ1YmJsaW5nRXZlbnRUeXBlcyA9IGN1c3RvbUJ1YmJsaW5nRXZlbnRUeXBlcztcbmV4cG9ydHMuY3VzdG9tRGlyZWN0RXZlbnRUeXBlcyA9IGN1c3RvbURpcmVjdEV2ZW50VHlwZXM7XG5cbmNvbnN0IHZpZXdDb25maWdDYWxsYmFja3MgPSBuZXcgTWFwKCk7XG5jb25zdCB2aWV3Q29uZmlncyA9IG5ldyBNYXAoKTtcblxuZnVuY3Rpb24gcHJvY2Vzc0V2ZW50VHlwZXModmlld0NvbmZpZzogVmlld0NvbmZpZyk6IHZvaWQge1xuICBjb25zdCB7YnViYmxpbmdFdmVudFR5cGVzLCBkaXJlY3RFdmVudFR5cGVzfSA9IHZpZXdDb25maWc7XG5cbiAgaWYgKF9fREVWX18pIHtcbiAgICBpZiAoYnViYmxpbmdFdmVudFR5cGVzICE9IG51bGwgJiYgZGlyZWN0RXZlbnRUeXBlcyAhPSBudWxsKSB7XG4gICAgICBmb3IgKGNvbnN0IHRvcExldmVsVHlwZSBpbiBkaXJlY3RFdmVudFR5cGVzKSB7XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICBidWJibGluZ0V2ZW50VHlwZXNbdG9wTGV2ZWxUeXBlXSA9PSBudWxsLFxuICAgICAgICAgICdFdmVudCBjYW5ub3QgYmUgYm90aCBkaXJlY3QgYW5kIGJ1YmJsaW5nOiAlcycsXG4gICAgICAgICAgdG9wTGV2ZWxUeXBlLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChidWJibGluZ0V2ZW50VHlwZXMgIT0gbnVsbCkge1xuICAgIGZvciAoY29uc3QgdG9wTGV2ZWxUeXBlIGluIGJ1YmJsaW5nRXZlbnRUeXBlcykge1xuICAgICAgaWYgKGN1c3RvbUJ1YmJsaW5nRXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdID09IG51bGwpIHtcbiAgICAgICAgY3VzdG9tQnViYmxpbmdFdmVudFR5cGVzW3RvcExldmVsVHlwZV0gPVxuICAgICAgICAgIGJ1YmJsaW5nRXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChkaXJlY3RFdmVudFR5cGVzICE9IG51bGwpIHtcbiAgICBmb3IgKGNvbnN0IHRvcExldmVsVHlwZSBpbiBkaXJlY3RFdmVudFR5cGVzKSB7XG4gICAgICBpZiAoY3VzdG9tRGlyZWN0RXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdID09IG51bGwpIHtcbiAgICAgICAgY3VzdG9tRGlyZWN0RXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdID0gZGlyZWN0RXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBhIG5hdGl2ZSB2aWV3L2NvbXBvbmVudCBieSBuYW1lLlxuICogQSBjYWxsYmFjayBpcyBwcm92aWRlZCB0byBsb2FkIHRoZSB2aWV3IGNvbmZpZyBmcm9tIFVJTWFuYWdlci5cbiAqIFRoZSBjYWxsYmFjayBpcyBkZWZlcnJlZCB1bnRpbCB0aGUgdmlldyBpcyBhY3R1YWxseSByZW5kZXJlZC5cbiAqL1xuZXhwb3J0cy5yZWdpc3RlciA9IGZ1bmN0aW9uKG5hbWU6IHN0cmluZywgY2FsbGJhY2s6ICgpID0+IFZpZXdDb25maWcpOiBzdHJpbmcge1xuICBpbnZhcmlhbnQoXG4gICAgIXZpZXdDb25maWdDYWxsYmFja3MuaGFzKG5hbWUpLFxuICAgICdUcmllZCB0byByZWdpc3RlciB0d28gdmlld3Mgd2l0aCB0aGUgc2FtZSBuYW1lICVzJyxcbiAgICBuYW1lLFxuICApO1xuICBpbnZhcmlhbnQoXG4gICAgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nLFxuICAgICdWaWV3IGNvbmZpZyBnZXR0ZXIgY2FsbGJhY2sgZm9yIGNvbXBvbmVudCBgJXNgIG11c3QgYmUgYSBmdW5jdGlvbiAocmVjZWl2ZWQgYCVzYCknLFxuICAgIG5hbWUsXG4gICAgY2FsbGJhY2sgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgY2FsbGJhY2ssXG4gICk7XG4gIHZpZXdDb25maWdDYWxsYmFja3Muc2V0KG5hbWUsIGNhbGxiYWNrKTtcbiAgcmV0dXJuIG5hbWU7XG59O1xuXG4vKipcbiAqIFJldHJpZXZlcyBhIGNvbmZpZyBmb3IgdGhlIHNwZWNpZmllZCB2aWV3LlxuICogSWYgdGhpcyBpcyB0aGUgZmlyc3QgdGltZSB0aGUgdmlldyBoYXMgYmVlbiB1c2VkLFxuICogVGhpcyBjb25maWd1cmF0aW9uIHdpbGwgYmUgbGF6eS1sb2FkZWQgZnJvbSBVSU1hbmFnZXIuXG4gKi9cbmV4cG9ydHMuZ2V0ID0gZnVuY3Rpb24obmFtZTogc3RyaW5nKTogVmlld0NvbmZpZyB7XG4gIGxldCB2aWV3Q29uZmlnO1xuICBpZiAoIXZpZXdDb25maWdzLmhhcyhuYW1lKSkge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gdmlld0NvbmZpZ0NhbGxiYWNrcy5nZXQobmFtZSk7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgJ1ZpZXcgY29uZmlnIGdldHRlciBjYWxsYmFjayBmb3IgY29tcG9uZW50IGAlc2AgbXVzdCBiZSBhIGZ1bmN0aW9uIChyZWNlaXZlZCBgJXNgKS4lcycsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGNhbGxiYWNrID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGNhbGxiYWNrLFxuICAgICAgICB0eXBlb2YgbmFtZVswXSA9PT0gJ3N0cmluZycgJiYgL1thLXpdLy50ZXN0KG5hbWVbMF0pXG4gICAgICAgICAgPyAnIE1ha2Ugc3VyZSB0byBzdGFydCBjb21wb25lbnQgbmFtZXMgd2l0aCBhIGNhcGl0YWwgbGV0dGVyLidcbiAgICAgICAgICA6ICcnLFxuICAgICAgKTtcbiAgICB9XG4gICAgdmlld0NvbmZpZyA9IGNhbGxiYWNrKCk7XG4gICAgcHJvY2Vzc0V2ZW50VHlwZXModmlld0NvbmZpZyk7XG4gICAgdmlld0NvbmZpZ3Muc2V0KG5hbWUsIHZpZXdDb25maWcpO1xuXG4gICAgLy8gQ2xlYXIgdGhlIGNhbGxiYWNrIGFmdGVyIHRoZSBjb25maWcgaXMgc2V0IHNvIHRoYXRcbiAgICAvLyB3ZSBkb24ndCBtYXNrIGFueSBlcnJvcnMgZHVyaW5nIHJlZ2lzdHJhdGlvbi5cbiAgICB2aWV3Q29uZmlnQ2FsbGJhY2tzLnNldChuYW1lLCBudWxsKTtcbiAgfSBlbHNlIHtcbiAgICB2aWV3Q29uZmlnID0gdmlld0NvbmZpZ3MuZ2V0KG5hbWUpO1xuICB9XG4gIGludmFyaWFudCh2aWV3Q29uZmlnLCAnVmlldyBjb25maWcgbm90IGZvdW5kIGZvciBuYW1lICVzJywgbmFtZSk7XG4gIHJldHVybiB2aWV3Q29uZmlnO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBYUEsWUFBWTs7QUFBQztBQUdiO0FBR0EsSUFBTUEsd0JBU0wsR0FBRyxDQUFDLENBQUM7QUFDTixJQUFNQyxzQkFLTCxHQUFHLENBQUMsQ0FBQztBQUVOQyxPQUFPLENBQUNGLHdCQUF3QixHQUFHQSx3QkFBd0I7QUFDM0RFLE9BQU8sQ0FBQ0Qsc0JBQXNCLEdBQUdBLHNCQUFzQjtBQUV2RCxJQUFNRSxtQkFBbUIsR0FBRyxJQUFJQyxHQUFHLEVBQUU7QUFDckMsSUFBTUMsV0FBVyxHQUFHLElBQUlELEdBQUcsRUFBRTtBQUU3QixTQUFTRSxpQkFBaUIsQ0FBQ0MsVUFBc0IsRUFBUTtFQUN2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